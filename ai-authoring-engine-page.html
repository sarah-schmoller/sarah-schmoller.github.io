<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="noindex, nofollow">
    <title>Password Protected Page</title>
    <style>
        html, body {
            margin: 0;
            width: 100%;
            height: 100%;
            font-family: Arial, Helvetica, sans-serif;
        }

        #dialogText {
            color: white;
            background-color: #333333;
        }
        
        #dialogWrap {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: table;
            background-color: #102137;
        }
        
        #dialogWrapCell {
            display: table-cell;
            vertical-align: middle;
            width: 280px;
        }
        
        #mainDialog {
            max-width: 400px;
            margin: 5px;
            border-radius: 10px;
            margin-left: auto;
            margin-right: auto;
            background-color: #ffffff00;
            overflow: hidden;
            text-align: left;
        }

        #mainDialog > * {
            padding: 10px 30px;
        }

        .input-container {
            position: relative;
            width: 280px;
            margin: 0 auto;
        }

        #pass {
            width: 100%;
            height: 44px;
            font-size: 16px;
            font-family: "Helvetica Neue", Arial, sans-serif;
            padding-left: 12px;
            padding-right: 44px; /* space for the button */
            border: none;
            order: 2;
            z-index: 100;
            box-sizing: border-box;
        }

        #pass:focus{
         outline: 1px solid rgb(255, 255, 255);
         outline-offset:3px;
        }

        .passwordWrapper {
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            width: 280px;
        }
        
        #messageWrapper {
            width: 268px;
            height: 44px;
            background-color: #f0523d00;
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, 50%);
            margin-left: -6px;
        }

        #submitPass {
            font-size: 20px;
            border: none;
            background-color: transparent;
            cursor: pointer;
            width: 34px;
            height: 34px;
            position: absolute;
            top: 50%;
            right: 5px;
            transform: translateY(-50%);
            padding: 0;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        #submitPass:focus {
            outline: none;
        }

        #contentFrame {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        #attribution {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            text-align: center;
            padding: 10px;
            font-weight: bold;
            font-size: 0.8em;
        }

        .error {
            display: none;
            color: white;
            background-color: #f0523d;
            position: absolute;
            z-index: 200;
            padding-left: 12px;
            padding-top: 5px;
            padding-bottom: 5px;
            width: 100%;
        }

        .lock {
            max-width: 30px;
            max-height: 30px;
            position: absolute;
            filter: contrast(0.5%);
            z-index: 101;
            float: left;
            padding-left: 17px;
            padding-top: 17px;
        }

        .circle {
            max-width: 64px;
            max-height: 64px;
            z-index: 100;
        }

        .arrow {
            max-width: 30px;
            max-height: 30px;
            filter: contrast(0.5%);
            z-index: 100;
        }

        .arrow:hover {
            filter: contrast(100%);
        }

        .lock-icon {
            top: 20%;
            margin-bottom: 35px;
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -180%);
            margin-left: 7.2px;
        }
        
        #pageBody {
            height: 100vh;
            width: 100vw;
            background-color: #0E012A;
            text-align: center;
        }
    </style>
  </head>
  <body>
    <iframe id="contentFrame" frameBorder="0" allowfullscreen></iframe>
    <div id="dialogWrap">
        <div id="dialogWrapCell">
            
            <div id="mainDialog">
                <div class="lock-icon">
                    <img src="lock.png" class="circle"/>
                </div>
                <div id="passArea">
                  <div class="input-container">
                    <input id="pass" type="password" name="pass" placeholder="Password" autofocus>
                    <button id="submitPass" type="button" aria-label="Submit">
                        <img src="arrow.svg" class="arrow"/>
                    </button>
                  </div>
                  <div>
                    <span id="messageWrapper">
                        <span id="invalidPass" class="error">Sorry, please try again.</span>
                        <span id="trycatcherror" class="error">Sorry, something went wrong.</span>
                        <span id="success" class="notifyText"></span>
                        &nbsp;
                    </span>
                    <div style="clear: both;"></div>
                  </div>
                </div>
                <div id="securecontext" class="error">
                    <p>
                        Sorry, but password protection only works over a secure connection. Please load this page via HTTPS.
                    </p>
                </div>
                <div id="nocrypto" class="error">
                    <p>
                        Your web browser appears to be outdated. Please visit this page using a modern browser.
                    </p>
                </div>
            </div>
        </div>
    </div>
    <script>
    (function() {

        var pl = "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";
        
        var submitPass = document.getElementById('submitPass');
        var passEl = document.getElementById('pass');
        var invalidPassEl = document.getElementById('invalidPass');
        var trycatcherror = document.getElementById('trycatcherror');
        var successEl = document.getElementById('success');
        var contentFrame = document.getElementById('contentFrame');
        
        // Sanity checks

        if (pl === "") {
            submitPass.disabled = true;
            passEl.disabled = true;
            alert("This page is meant to be used with the encryption tool. It doesn't work standalone.");
            return;
        }

        if (!isSecureContext) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#securecontext").style.display = "block";
            return;
        }

        if (!crypto.subtle) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#nocrypto").style.display = "block";
            return;
        }
        
        function str2ab(str) {
            var ustr = atob(str);
            var buf = new ArrayBuffer(ustr.length);
            var bufView = new Uint8Array(buf);
            for (var i=0, strLen=ustr.length; i < strLen; i++) {
                bufView[i] = ustr.charCodeAt(i);
            }
            return bufView;
        }

        async function deriveKey(salt, password) {
            const encoder = new TextEncoder()
            const baseKey = await crypto.subtle.importKey(
                'raw',
                encoder.encode(password),
                'PBKDF2',
                false,
                ['deriveKey'],
            )
            return await crypto.subtle.deriveKey(
                { name: 'PBKDF2', salt, iterations: 100000, hash: 'SHA-256' },
                baseKey,
                { name: 'AES-GCM', length: 256 },
                true,
                ['decrypt'],
            )
        }
        
        async function doSubmit(evt) {
            submitPass.disabled = true;
            passEl.disabled = true;

            let iv, ciphertext, key;
            
            try {
                var unencodedPl = str2ab(pl);

                const salt = unencodedPl.slice(0, 32)
                iv = unencodedPl.slice(32, 32 + 16)
                ciphertext = unencodedPl.slice(32 + 16)

                key = await deriveKey(salt, passEl.value);
            } catch (e) {
                trycatcherror.style.display = "inline";
                console.error(e);
                return;
            }

            try {
                const decryptedArray = new Uint8Array(
                    await crypto.subtle.decrypt({ name: 'AES-GCM', iv }, key, ciphertext)
                );

                let decrypted = new TextDecoder().decode(decryptedArray);

                if (decrypted === "") throw "No data returned";

                const basestr = '<base href="." target="_top">';
                const anchorfixstr = `
                    <script>
                        Array.from(document.links).forEach((anchor) => {
                            const href = anchor.getAttribute("href");
                            if (href.startsWith("#")) {
                                anchor.addEventListener("click", function(e) {
                                    e.preventDefault();
                                    const targetId = this.getAttribute("href").substring(1);
                                    const targetEl = document.getElementById(targetId);
                                    targetEl.scrollIntoView();
                                });
                            }
                        });
                    <\/script>
                `;
                
                // Set default iframe link targets to _top so all links break out of the iframe
                if (decrypted.includes("<head>")) decrypted = decrypted.replace("<head>", "<head>" + basestr);
                else if (decrypted.includes("<!DOCTYPE html>")) decrypted = decrypted.replace("<!DOCTYPE html>", "<!DOCTYPE html>" + basestr);
                else decrypted = basestr + decrypted;

                // Fix fragment links
                if (decrypted.includes("</body>")) decrypted = decrypted.replace("</body>", anchorfixstr + '</body>');
                else if (decrypted.includes("</html>")) decrypted = decrypted.replace("</html>", anchorfixstr + '</html>');
                else decrypted = decrypted + anchorfixstr;
                
                contentFrame.srcdoc = decrypted;
                
                successEl.style.display = "inline";
                setTimeout(function() {
                    dialogWrap.style.display = "none";
                }, 1000);
            } catch (e) {
                invalidPassEl.style.display = "inline";
                passEl.value = "";
                submitPass.disabled = false;
                passEl.disabled = false;
                console.error(e);
                return;
            }
        }
        
        submitPass.onclick = doSubmit;
        passEl.onkeypress = function(e){
            if (!e) e = window.event;
            var keyCode = e.keyCode || e.which;
            invalidPassEl.style.display = "none";
            if (keyCode == '13'){
              // Enter pressed
              doSubmit();
              return false;
            }
        }
    })();
    </script>
  </body>
</html>

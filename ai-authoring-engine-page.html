<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="noindex, nofollow">
    <title>Password Protected Page</title>
    <style>
        html, body {
            margin: 0;
            width: 100%;
            height: 100%;
            font-family: Arial, Helvetica, sans-serif;
        }

        #dialogText {
            color: white;
            background-color: #333333;
        }
        
        #dialogWrap {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: table;
            background-color: #102137;
        }
        
        #dialogWrapCell {
            display: table-cell;
            vertical-align: middle;
            width: 280px;
        }
        
        #mainDialog {
            max-width: 400px;
            margin: 5px;
            border-radius: 10px;
            margin-left: auto;
            margin-right: auto;
            background-color: #ffffff00;
            overflow: hidden;
            text-align: left;
        }

        #mainDialog > * {
            padding: 10px 30px;
        }

        .input-container {
            position: relative;
            width: 280px;
            margin: 0 auto;
        }

        #pass {
            width: 100%;
            height: 44px;
            font-size: 16px;
            font-family: "Helvetica Neue", Arial, sans-serif;
            padding-left: 12px;
            padding-right: 44px; /* space for the button */
            border: none;
            order: 2;
            z-index: 100;
            box-sizing: border-box;
        }

        #pass:focus{
         outline: 1px solid rgb(255, 255, 255);
         outline-offset:3px;
        }

        .passwordWrapper {
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            width: 280px;
        }
        
        #messageWrapper {
            width: 268px;
            height: 44px;
            background-color: #f0523d00;
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, 50%);
            margin-left: -6px;
        }

        #submitPass {
            font-size: 20px;
            border: none;
            background-color: transparent;
            cursor: pointer;
            width: 34px;
            height: 34px;
            position: absolute;
            top: 50%;
            right: 5px;
            transform: translateY(-50%);
            padding: 0;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        #submitPass:focus {
            outline: none;
        }

        #contentFrame {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        #attribution {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            text-align: center;
            padding: 10px;
            font-weight: bold;
            font-size: 0.8em;
        }

        .error {
            display: none;
            color: white;
            background-color: #f0523d;
            position: absolute;
            z-index: 200;
            padding-left: 12px;
            padding-top: 5px;
            padding-bottom: 5px;
            width: 100%;
        }

        .lock {
            max-width: 30px;
            max-height: 30px;
            position: absolute;
            filter: contrast(0.5%);
            z-index: 101;
            float: left;
            padding-left: 17px;
            padding-top: 17px;
        }

        .circle {
            max-width: 64px;
            max-height: 64px;
            z-index: 100;
        }

        .arrow {
            max-width: 30px;
            max-height: 30px;
            filter: contrast(0.5%);
            z-index: 100;
        }

        .arrow:hover {
            filter: contrast(100%);
        }

        .lock-icon {
            top: 20%;
            margin-bottom: 35px;
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -180%);
            margin-left: 7.2px;
        }
        
        #pageBody {
            height: 100vh;
            width: 100vw;
            background-color: #0E012A;
            text-align: center;
        }
    </style>
  </head>
  <body>
    <iframe id="contentFrame" frameBorder="0" allowfullscreen></iframe>
    <div id="dialogWrap">
        <div id="dialogWrapCell">
            
            <div id="mainDialog">
                <div class="lock-icon">
                    <img src="lock.png" class="circle"/>
                </div>
                <div id="passArea">
                  <div class="input-container">
                    <input id="pass" type="password" name="pass" placeholder="Password" autofocus>
                    <button id="submitPass" type="button" aria-label="Submit">
                        <img src="arrow.svg" class="arrow"/>
                    </button>
                  </div>
                  <div>
                    <span id="messageWrapper">
                        <span id="invalidPass" class="error">Sorry, please try again.</span>
                        <span id="trycatcherror" class="error">Sorry, something went wrong.</span>
                        <span id="success" class="notifyText"></span>
                        &nbsp;
                    </span>
                    <div style="clear: both;"></div>
                  </div>
                </div>
                <div id="securecontext" class="error">
                    <p>
                        Sorry, but password protection only works over a secure connection. Please load this page via HTTPS.
                    </p>
                </div>
                <div id="nocrypto" class="error">
                    <p>
                        Your web browser appears to be outdated. Please visit this page using a modern browser.
                    </p>
                </div>
            </div>
        </div>
    </div>
    <script>
    (function() {

        var pl = "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";
        
        var submitPass = document.getElementById('submitPass');
        var passEl = document.getElementById('pass');
        var invalidPassEl = document.getElementById('invalidPass');
        var trycatcherror = document.getElementById('trycatcherror');
        var successEl = document.getElementById('success');
        var contentFrame = document.getElementById('contentFrame');
        
        // Sanity checks

        if (pl === "") {
            submitPass.disabled = true;
            passEl.disabled = true;
            alert("This page is meant to be used with the encryption tool. It doesn't work standalone.");
            return;
        }

        if (!isSecureContext) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#securecontext").style.display = "block";
            return;
        }

        if (!crypto.subtle) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#nocrypto").style.display = "block";
            return;
        }
        
        function str2ab(str) {
            var ustr = atob(str);
            var buf = new ArrayBuffer(ustr.length);
            var bufView = new Uint8Array(buf);
            for (var i=0, strLen=ustr.length; i < strLen; i++) {
                bufView[i] = ustr.charCodeAt(i);
            }
            return bufView;
        }

        async function deriveKey(salt, password) {
            const encoder = new TextEncoder()
            const baseKey = await crypto.subtle.importKey(
                'raw',
                encoder.encode(password),
                'PBKDF2',
                false,
                ['deriveKey'],
            )
            return await crypto.subtle.deriveKey(
                { name: 'PBKDF2', salt, iterations: 100000, hash: 'SHA-256' },
                baseKey,
                { name: 'AES-GCM', length: 256 },
                true,
                ['decrypt'],
            )
        }
        
        async function doSubmit(evt) {
            submitPass.disabled = true;
            passEl.disabled = true;

            let iv, ciphertext, key;
            
            try {
                var unencodedPl = str2ab(pl);

                const salt = unencodedPl.slice(0, 32)
                iv = unencodedPl.slice(32, 32 + 16)
                ciphertext = unencodedPl.slice(32 + 16)

                key = await deriveKey(salt, passEl.value);
            } catch (e) {
                trycatcherror.style.display = "inline";
                console.error(e);
                return;
            }

            try {
                const decryptedArray = new Uint8Array(
                    await crypto.subtle.decrypt({ name: 'AES-GCM', iv }, key, ciphertext)
                );

                let decrypted = new TextDecoder().decode(decryptedArray);

                if (decrypted === "") throw "No data returned";

                const basestr = '<base href="." target="_top">';
                const anchorfixstr = `
                    <script>
                        Array.from(document.links).forEach((anchor) => {
                            const href = anchor.getAttribute("href");
                            if (href.startsWith("#")) {
                                anchor.addEventListener("click", function(e) {
                                    e.preventDefault();
                                    const targetId = this.getAttribute("href").substring(1);
                                    const targetEl = document.getElementById(targetId);
                                    targetEl.scrollIntoView();
                                });
                            }
                        });
                    <\/script>
                `;
                
                // Set default iframe link targets to _top so all links break out of the iframe
                if (decrypted.includes("<head>")) decrypted = decrypted.replace("<head>", "<head>" + basestr);
                else if (decrypted.includes("<!DOCTYPE html>")) decrypted = decrypted.replace("<!DOCTYPE html>", "<!DOCTYPE html>" + basestr);
                else decrypted = basestr + decrypted;

                // Fix fragment links
                if (decrypted.includes("</body>")) decrypted = decrypted.replace("</body>", anchorfixstr + '</body>');
                else if (decrypted.includes("</html>")) decrypted = decrypted.replace("</html>", anchorfixstr + '</html>');
                else decrypted = decrypted + anchorfixstr;
                
                contentFrame.srcdoc = decrypted;
                
                successEl.style.display = "inline";
                setTimeout(function() {
                    dialogWrap.style.display = "none";
                }, 1000);
            } catch (e) {
                invalidPassEl.style.display = "inline";
                passEl.value = "";
                submitPass.disabled = false;
                passEl.disabled = false;
                console.error(e);
                return;
            }
        }
        
        submitPass.onclick = doSubmit;
        passEl.onkeypress = function(e){
            if (!e) e = window.event;
            var keyCode = e.keyCode || e.which;
            invalidPassEl.style.display = "none";
            if (keyCode == '13'){
              // Enter pressed
              doSubmit();
              return false;
            }
        }
    })();
    </script>
  </body>
</html>

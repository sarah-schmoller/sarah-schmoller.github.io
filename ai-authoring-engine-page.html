<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="noindex, nofollow">
    <title>Password Protected Page</title>
    <style>
        html, body {
            margin: 0;
            width: 100%;
            height: 100%;
            font-family: Arial, Helvetica, sans-serif;
        }

        #dialogText {
            color: white;
            background-color: #333333;
        }
        
        #dialogWrap {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: table;
            background-color: #EEEEEE;
        }
        
        #dialogWrapCell {
            display: table-cell;
            vertical-align: middle;
            width: 280px;
        }
        
        #mainDialog {
            max-width: 400px;
            margin: 5px;
            border: solid #AAAAAA 1px;
            border-radius: 10px;
            box-shadow: 3px 3px 5px 3px #AAAAAA;
            margin-left: auto;
            margin-right: auto;
            background-color: #FFFFFF;
            overflow: hidden;
            text-align: left;
        }

        #mainDialog > * {
            padding: 10px 30px;
        }

        #passArea {
            background-color: white;
        }

        #pass {
            width: 280px;
            height: 44px;
            font-size: 16px;
            font-family: "Helvetica Neue", Arial, sans-serif;
            padding-left: 12px;
            border: none;
            order: 2;
            z-index: 100;
        }

        #pass:focus{
         outline: 2px solid black;
         outline-offset:3px;
        }

        .passwordWrapper {
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            width: 280px;
        }
        
        #messageWrapper {
            width: 294px;
            height: 44px;
            background-color: #f0523d00;
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, 50%);
            margin-left: 7.2px;
        }

        .passwordError {
            background-color: #f0523d;
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            align-items: center;
            padding-left: 12px;
            display: none;
            color: white;
        }
        
        #submitPass {
            font-size: 20px;
            border: none;
            background-color: transparent;
            cursor: pointer;
            float: left;
            width: 30px;
            height: 30px;
            position: absolute;
            top: 50%;
            right: 0px;
            transform: translateY(-50%);
        }

        #contentFrame {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        #attribution {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            text-align: center;
            padding: 10px;
            font-weight: bold;
            font-size: 0.8em;
        }

        .error {
            display: none;
            color: white;
            background-color: #f0523d;
            position: absolute;
            z-index: 200;
            padding-left: 12px;
            width: 100%;
        }

        .lock {
            max-width: 30px;
            max-height: 30px;
            position: absolute;
            filter: contrast(0.5%);
            z-index: 101;
            float: left;
            padding-left: 17px;
            padding-top: 17px;
        }

        .circle {
            max-width: 64px;
            max-height: 64px;
            filter: contrast(0.5%);
            z-index: 100;
        }

        .arrow {
            max-width: 30px;
            max-height: 30px;
            filter: contrast(0.5%);
            z-index: 100;
        }

        .arrow:hover {
            filter: contrast(100%);
        }

        .lock-icon {
            top: 20%;
            margin-bottom: 35px;
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -180%);
            margin-left: 7.2px;
        }
        
        #pageBody {
            height: 100vh;
            width: 100vw;
            background-color: #0E012A;
            text-align: center;
        }
    </style>
  </head>
  <body>
    <iframe id="contentFrame" frameBorder="0" allowfullscreen></iframe>
    <div id="securecontext" class="error">
        <p>
            Sorry, but password protection only works over a secure connection. Please load this page via HTTPS.
        </p>
    </div>
    <div id="nocrypto" class="error">
        <p>
            Your web browser appears to be outdated. Please visit this page using a modern browser.
        </p>
    </div>
    <div id="dialogWrap">
        <div id="dialogWrapCell">
            <div class="lock-icon">
                <img src="lock.svg" class="lock"/>
                <img src="circle.svg" class="circle"/>
            </div>
            <div class="passwordWrapper">
                <input id="pass" type="password" name="pass" placeholder="Password" autofocus>
                <button id="submitPass" type="button">
                    <img src="arrow.svg" class="arrow"/>
                </button>
            </div>
            <span id="messageWrapper">
                <span id="invalidPass" class="passwordError">Please try again.</span>
                <span id="trycatcherror" class="passwordError">Sorry, something went wrong.</span>
                &nbsp;
            </span>
        </div>
    </div>
    <script>
    (function() {

        var pl = "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";
        
        var submitPass = document.getElementById('submitPass');
        var passEl = document.getElementById('pass');
        var invalidPassEl = document.getElementById('invalidPass');
        var trycatcherror = document.getElementById('trycatcherror');
        var successEl = document.getElementById('success');
        var contentFrame = document.getElementById('contentFrame');
        
        // Sanity checks

        if (pl === "") {
            submitPass.disabled = true;
            passEl.disabled = true;
            alert("This page is meant to be used with the encryption tool. It doesn't work standalone.");
            return;
        }

        if (!isSecureContext) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#securecontext").style.display = "block";
            return;
        }

        if (!crypto.subtle) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#nocrypto").style.display = "block";
            return;
        }
        
        function str2ab(str) {
            var ustr = atob(str);
            var buf = new ArrayBuffer(ustr.length);
            var bufView = new Uint8Array(buf);
            for (var i=0, strLen=ustr.length; i < strLen; i++) {
                bufView[i] = ustr.charCodeAt(i);
            }
            return bufView;
        }

        async function deriveKey(salt, password) {
            const encoder = new TextEncoder()
            const baseKey = await crypto.subtle.importKey(
                'raw',
                encoder.encode(password),
                'PBKDF2',
                false,
                ['deriveKey'],
            )
            return await crypto.subtle.deriveKey(
                { name: 'PBKDF2', salt, iterations: 100000, hash: 'SHA-256' },
                baseKey,
                { name: 'AES-GCM', length: 256 },
                true,
                ['decrypt'],
            )
        }
        
        async function doSubmit(evt) {
            submitPass.disabled = true;
            passEl.disabled = true;

            let iv, ciphertext, key;
            
            try {
                var unencodedPl = str2ab(pl);

                const salt = unencodedPl.slice(0, 32)
                iv = unencodedPl.slice(32, 32 + 16)
                ciphertext = unencodedPl.slice(32 + 16)

                key = await deriveKey(salt, passEl.value);
            } catch (e) {
                trycatcherror.style.display = "inline";
                console.error(e);
                return;
            }

            try {
                const decryptedArray = new Uint8Array(
                    await crypto.subtle.decrypt({ name: 'AES-GCM', iv }, key, ciphertext)
                );

                let decrypted = new TextDecoder().decode(decryptedArray);

                if (decrypted === "") throw "No data returned";

                const basestr = '<base href="." target="_top">';
                const anchorfixstr = `
                    <script>
                        Array.from(document.links).forEach((anchor) => {
                            const href = anchor.getAttribute("href");
                            if (href.startsWith("#")) {
                                anchor.addEventListener("click", function(e) {
                                    e.preventDefault();
                                    const targetId = this.getAttribute("href").substring(1);
                                    const targetEl = document.getElementById(targetId);
                                    targetEl.scrollIntoView();
                                });
                            }
                        });
                    <\/script>
                `;
                
                // Set default iframe link targets to _top so all links break out of the iframe
                if (decrypted.includes("<head>")) decrypted = decrypted.replace("<head>", "<head>" + basestr);
                else if (decrypted.includes("<!DOCTYPE html>")) decrypted = decrypted.replace("<!DOCTYPE html>", "<!DOCTYPE html>" + basestr);
                else decrypted = basestr + decrypted;

                // Fix fragment links
                if (decrypted.includes("</body>")) decrypted = decrypted.replace("</body>", anchorfixstr + '</body>');
                else if (decrypted.includes("</html>")) decrypted = decrypted.replace("</html>", anchorfixstr + '</html>');
                else decrypted = decrypted + anchorfixstr;
                
                contentFrame.srcdoc = decrypted;
                
                successEl.style.display = "inline";
                setTimeout(function() {
                    dialogWrap.style.display = "none";
                }, 1000);
            } catch (e) {
                invalidPassEl.style.display = "inline";
                passEl.value = "";
                submitPass.disabled = false;
                passEl.disabled = false;
                console.error(e);
                return;
            }
        }
        
        submitPass.onclick = doSubmit;
        passEl.onkeypress = function(e){
            if (!e) e = window.event;
            var keyCode = e.keyCode || e.which;
            invalidPassEl.style.display = "none";
            if (keyCode == '13'){
              // Enter pressed
              doSubmit();
              return false;
            }
        }
    })();
    </script>
  </body>
</html>

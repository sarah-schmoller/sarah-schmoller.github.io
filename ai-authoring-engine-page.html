<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="noindex, nofollow">
    <title>Password Protected Page</title>
    <style>
        html, body {
            margin: 0;
            width: 100%;
            height: 100%;
            font-family: Arial, Helvetica, sans-serif;
        }

        #dialogText {
            color: white;
            background-color: #333333;
        }
        
        #dialogWrap {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: table;
            background-color: #102137;
        }
        
        #dialogWrapCell {
            display: table-cell;
            vertical-align: middle;
            width: 280px;
        }
        
        #mainDialog {
            max-width: 400px;
            margin: 5px;
            border-radius: 10px;
            margin-left: auto;
            margin-right: auto;
            background-color: #ffffff00;
            overflow: hidden;
            text-align: left;
        }

        #mainDialog > * {
            padding: 10px 30px;
        }

        .input-container {
            position: relative;
            width: 280px;
            margin: 0 auto;
        }

        #pass {
            width: 100%;
            height: 44px;
            font-size: 16px;
            font-family: "Helvetica Neue", Arial, sans-serif;
            padding-left: 12px;
            padding-right: 44px; /* space for the button */
            border: none;
            order: 2;
            z-index: 100;
            box-sizing: border-box;
        }

        #pass:focus{
         outline: 1px solid rgb(255, 255, 255);
         outline-offset:3px;
        }

        .passwordWrapper {
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            width: 280px;
        }
        
        #messageWrapper {
            width: 268px;
            height: 44px;
            background-color: #f0523d00;
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, 50%);
            margin-left: -6px;
        }

        #submitPass {
            font-size: 20px;
            border: none;
            background-color: transparent;
            cursor: pointer;
            width: 34px;
            height: 34px;
            position: absolute;
            top: 50%;
            right: 5px;
            transform: translateY(-50%);
            padding: 0;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        #submitPass:focus {
            outline: none;
        }

        #contentFrame {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        #attribution {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            text-align: center;
            padding: 10px;
            font-weight: bold;
            font-size: 0.8em;
        }

        .error {
            display: none;
            color: white;
            background-color: #f0523d;
            position: absolute;
            z-index: 200;
            padding-left: 12px;
            padding-top: 5px;
            padding-bottom: 5px;
            width: 100%;
        }

        .lock {
            max-width: 30px;
            max-height: 30px;
            position: absolute;
            filter: contrast(0.5%);
            z-index: 101;
            float: left;
            padding-left: 17px;
            padding-top: 17px;
        }

        .circle {
            max-width: 64px;
            max-height: 64px;
            z-index: 100;
        }

        .arrow {
            max-width: 30px;
            max-height: 30px;
            filter: contrast(0.5%);
            z-index: 100;
        }

        .arrow:hover {
            filter: contrast(100%);
        }

        .lock-icon {
            top: 20%;
            margin-bottom: 35px;
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -180%);
            margin-left: 7.2px;
        }
        
        #pageBody {
            height: 100vh;
            width: 100vw;
            background-color: #0E012A;
            text-align: center;
        }
    </style>
  </head>
  <body>
    <iframe id="contentFrame" frameBorder="0" allowfullscreen></iframe>
    <div id="dialogWrap">
        <div id="dialogWrapCell">
            
            <div id="mainDialog">
                <div class="lock-icon">
                    <img src="lock.png" class="circle"/>
                </div>
                <div id="passArea">
                  <div class="input-container">
                    <input id="pass" type="password" name="pass" placeholder="Password" autofocus>
                    <button id="submitPass" type="button" aria-label="Submit">
                        <img src="arrow.svg" class="arrow"/>
                    </button>
                  </div>
                  <div>
                    <span id="messageWrapper">
                        <span id="invalidPass" class="error">Sorry, please try again.</span>
                        <span id="trycatcherror" class="error">Sorry, something went wrong.</span>
                        <span id="success" class="notifyText"></span>
                        &nbsp;
                    </span>
                    <div style="clear: both;"></div>
                  </div>
                </div>
                <div id="securecontext" class="error">
                    <p>
                        Sorry, but password protection only works over a secure connection. Please load this page via HTTPS.
                    </p>
                </div>
                <div id="nocrypto" class="error">
                    <p>
                        Your web browser appears to be outdated. Please visit this page using a modern browser.
                    </p>
                </div>
            </div>
        </div>
    </div>
    <script>
    (function() {

        var pl = "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";
        
        var submitPass = document.getElementById('submitPass');
        var passEl = document.getElementById('pass');
        var invalidPassEl = document.getElementById('invalidPass');
        var trycatcherror = document.getElementById('trycatcherror');
        var successEl = document.getElementById('success');
        var contentFrame = document.getElementById('contentFrame');
        
        // Sanity checks

        if (pl === "") {
            submitPass.disabled = true;
            passEl.disabled = true;
            alert("This page is meant to be used with the encryption tool. It doesn't work standalone.");
            return;
        }

        if (!isSecureContext) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#securecontext").style.display = "block";
            return;
        }

        if (!crypto.subtle) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#nocrypto").style.display = "block";
            return;
        }
        
        function str2ab(str) {
            var ustr = atob(str);
            var buf = new ArrayBuffer(ustr.length);
            var bufView = new Uint8Array(buf);
            for (var i=0, strLen=ustr.length; i < strLen; i++) {
                bufView[i] = ustr.charCodeAt(i);
            }
            return bufView;
        }

        async function deriveKey(salt, password) {
            const encoder = new TextEncoder()
            const baseKey = await crypto.subtle.importKey(
                'raw',
                encoder.encode(password),
                'PBKDF2',
                false,
                ['deriveKey'],
            )
            return await crypto.subtle.deriveKey(
                { name: 'PBKDF2', salt, iterations: 100000, hash: 'SHA-256' },
                baseKey,
                { name: 'AES-GCM', length: 256 },
                true,
                ['decrypt'],
            )
        }
        
        async function doSubmit(evt) {
            submitPass.disabled = true;
            passEl.disabled = true;

            let iv, ciphertext, key;
            
            try {
                var unencodedPl = str2ab(pl);

                const salt = unencodedPl.slice(0, 32)
                iv = unencodedPl.slice(32, 32 + 16)
                ciphertext = unencodedPl.slice(32 + 16)

                key = await deriveKey(salt, passEl.value);
            } catch (e) {
                trycatcherror.style.display = "inline";
                console.error(e);
                return;
            }

            try {
                const decryptedArray = new Uint8Array(
                    await crypto.subtle.decrypt({ name: 'AES-GCM', iv }, key, ciphertext)
                );

                let decrypted = new TextDecoder().decode(decryptedArray);

                if (decrypted === "") throw "No data returned";

                const basestr = '<base href="." target="_top">';
                const anchorfixstr = `
                    <script>
                        Array.from(document.links).forEach((anchor) => {
                            const href = anchor.getAttribute("href");
                            if (href.startsWith("#")) {
                                anchor.addEventListener("click", function(e) {
                                    e.preventDefault();
                                    const targetId = this.getAttribute("href").substring(1);
                                    const targetEl = document.getElementById(targetId);
                                    targetEl.scrollIntoView();
                                });
                            }
                        });
                    <\/script>
                `;
                
                // Set default iframe link targets to _top so all links break out of the iframe
                if (decrypted.includes("<head>")) decrypted = decrypted.replace("<head>", "<head>" + basestr);
                else if (decrypted.includes("<!DOCTYPE html>")) decrypted = decrypted.replace("<!DOCTYPE html>", "<!DOCTYPE html>" + basestr);
                else decrypted = basestr + decrypted;

                // Fix fragment links
                if (decrypted.includes("</body>")) decrypted = decrypted.replace("</body>", anchorfixstr + '</body>');
                else if (decrypted.includes("</html>")) decrypted = decrypted.replace("</html>", anchorfixstr + '</html>');
                else decrypted = decrypted + anchorfixstr;
                
                contentFrame.srcdoc = decrypted;
                
                successEl.style.display = "inline";
                setTimeout(function() {
                    dialogWrap.style.display = "none";
                }, 1000);
            } catch (e) {
                invalidPassEl.style.display = "inline";
                passEl.value = "";
                submitPass.disabled = false;
                passEl.disabled = false;
                console.error(e);
                return;
            }
        }
        
        submitPass.onclick = doSubmit;
        passEl.onkeypress = function(e){
            if (!e) e = window.event;
            var keyCode = e.keyCode || e.which;
            invalidPassEl.style.display = "none";
            if (keyCode == '13'){
              // Enter pressed
              doSubmit();
              return false;
            }
        }
    })();
    </script>
  </body>
</html>
